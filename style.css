* {
	transition-duration: 0.5s;
	text-align: center;
	font-family: "Inconsolata", monospace;
	font-weight: bold;
	table-align: center;
	margin: auto;
}

*:focus {
	outline: none;
	webkit-outline: none;
}

body {
	background-color: var(--background);
	color: var(--color);
	overflow-x: hidden;
	overflow-y: auto;
	--background: #0f0f0f;
	--color: #dfdfdf;
	--points: #ffffff;
}

html, body {
	min-height: 100%;
	height: 100%;
}

td {
	padding: 0;
	text-align: center;
}

.upgTable {
	display: flex !important;
	flex-flow: column wrap;
	justify-content: center;
	align-items: center;
	max-width: 100%;
	margin: 0 auto;
}

.upgRow {
	display: flex !important;
	flex-flow: row wrap;
	justify-content: center;
	align-items: center;
	max-width: 100%;
	margin: 0 auto;
}

.upgAlign {
	height: 120px;
	vertical-align: 0
}

.bigUpgAlign {
	height: 200px;
	vertical-align: 0
}

h1, h2, h3, b, input, .tabButton {
	display: inline;
	font-family: "Lucida Console", "Courier New", monospace
}

.treeNode {
	height: 100px;
	width: 100px;
	margin: 5px;
	border: var(--hqProperty1);
	border-color: rgba(255, 255, 255, 0.125) rgba(0, 0, 0, 0.25) rgba(0, 0, 0, 0.25) rgba(255, 255, 255, 0.125);
	border-radius: 50%;
	box-shadow: var(--hqProperty2a), var(--hqProperty2b);
	font-size: 40px;
	font-family: "Lucida Console", "Courier New", monospace;
	color: rgba(0, 0, 0, 0.5);
	text-shadow: var(--hqProperty3);
}

.locked {
	background-color: #bf8f8f;
	cursor: not-allowed;
}

.can {
	cursor: pointer;
}

	.can:hover, .can:active {
		transform: scale(1.15, 1.15);
		box-shadow: 0px 0px 20px var(--points)
	}
	
	/* Touch-friendly active states for mobile */
	@media (pointer: coarse) {
		.can:active {
			transform: scale(1.15, 1.15);
			box-shadow: 0px 0px 20px var(--points);
		}
	}

.treeNode.notify {
	transform: scale(1.1, 1.1);
	border-color: rgba(255, 0, 0, 0.125) rgba(255, 0, 0, 0.25) rgba(255, 0, 0, 0.25) rgba(255, 0, 0, 0.125);
	box-shadow: var(--hqProperty2a), 0px 0px 20px #ff0000;
	z-index: 3
}

.treeNode.can:hover {
	transform: scale(1.15, 1.15);
	box-shadow: var(--hqProperty2a), 0px 0px 20px var(--points);
	z-index: 4
}

.bought {
	background-color: #77bf5f;
	cursor: default;
}

.back {
	position: absolute;
	top: 0px;
	left: 0px;
	background-color: transparent;
	border: 1px solid transparent;
	color: var(--color);
	font-size: 40px;
	cursor: pointer;
}

	.back:hover {
		transform: scale(1.1, 1.1);
		text-shadow: 0px 0px 7px var(--color);
	}

.tabButton {
	background-color: transparent;
	border: none;
	color: rgba(0, 0, 0, 0.75);
	font-size: 18px;
	cursor: pointer;
	padding: 8px 20px 5px 20px;
	margin: 5px 3px 5px 3px;
	border-radius: 25px;
	border: var(--hqProperty1);
	border-width: 2px;
	border-color: rgba(255, 255, 255, 0.125) rgba(0, 0, 0, 0.25) rgba(0, 0, 0, 0.25) rgba(255, 255, 255, 0.125);
}

	.tabButton:hover {
		transform: scale(1.1, 1.1);
		box-shadow: 0px 0px 12px var(--color);
	}
	
.topbarButton {	
    height: 25px;
	padding: 2px 6px;
	background-color: var(--color);
	border: var(--hqProperty1);
	border-width: 2px;
	border-color: rgba(255, 255, 255, 0.125) rgba(0, 0, 0, 0.25) rgba(0, 0, 0, 0.25) rgba(255, 255, 255, 0.125);
	transition-duration: 0.2s;
}
	.topbarButton:hover {
		text-shadow: 0px 0px 5px var(--background);
		box-shadow: 0px 0px 15px var(--color);
		z-index: 2147400000;
	}
	.topbarButton:disabled {
		background-color: #7F0000;
		text-shadow: none;
		box-shadow: none;
		z-index: 2147480000;
	}

.reset {
	height: 120px;
	width: 180px;
	border-radius: 25%;
	border: 4px solid;
	border-color: rgba(255, 255, 255, 0.125) rgba(0, 0, 0, 0.25) rgba(0, 0, 0, 0.25) rgba(255, 255, 255, 0.125);
}

.upg {
	height: 120px;
	width: 120px;
	border-radius: 25%;
	border: 2px solid;
	border-color: rgba(255, 255, 255, 0.125) rgba(0, 0, 0, 0.25) rgba(0, 0, 0, 0.25) rgba(255, 255, 255, 0.125);
	font-size: 10px;
}

.buyable {
	height: 200px;
	width: 200px;
	border-radius: 25%;
	border: 2px solid;
	border-color: rgba(255, 255, 255, 0.125) rgba(0, 0, 0, 0.25) rgba(0, 0, 0, 0.25) rgba(255, 255, 255, 0.125);
	font-size: 10px;
}

.upgBig {
	height: 200px;
	width: 200px;
	border-radius: 25%;
	border: 2px solid;
	border-color: rgba(255, 255, 255, 0.125) rgba(0, 0, 0, 0.25) rgba(0, 0, 0, 0.25) rgba(255, 255, 255, 0.125);
}

.longUpg {
	height: 50px;
	width: 120px;
	background: var(--points);
	border-radius: 50%;
	border: 2px solid;
	border-color: rgba(255, 255, 255, 0.125) rgba(0, 0, 0, 0.25) rgba(0, 0, 0, 0.25) rgba(255, 255, 255, 0.125);
	font-size: 10px;
}

.smallUpg {
	height: 40px;
	width: 40px;
	border-radius: 25%;
	border: 2px solid;
	border-color: rgba(255, 255, 255, 0.125) rgba(0, 0, 0, 0.25) rgba(0, 0, 0, 0.25) rgba(255, 255, 255, 0.125);
}

#points {
	color: var(--points);
	text-shadow: 0px 0px 10px var(--points);
}

#optionWheel {
	position: absolute;
	top: 0px;
	left: 0px;
	height: 50px;
	width: 50px;
	cursor: pointer;
}

	#optionWheel:hover {
		transform: rotate(360deg);
	}

#info {
	font-size: 20px;
	color: white;
	position: absolute;
	top: 50px;
	left: 4px;
	cursor: pointer;
	width: 40px;
	height: 40px;
	-webkit-text-stroke-width: 1px;
	-webkit-text-stroke-color: #02f2f2;
}

	#info:hover {
		transform: scale(1.2, 1.2);
		text-shadow: 5px 0px 10px #02f2f2, -3px 0px 12px #02f2f2;
	}

#discord {
	position: absolute;
	top: 120px;
	left: 4px;
	width: 40px;
	height: 40px;
	cursor: pointer
}

	#discord:hover {
		transform: scale(1.2, 1.2);
	}
	
#achievements {
	font-size: 32px;
	color: white;
	position: absolute;
	top: 180px;
	left: 4px;
	cursor: pointer;
	width: 40px;
	height: 40px;
}

	#achievements:hover {
		transform: scale(1.2, 1.2);
		text-shadow: 5px 0px 10px #02f2f2, -3px 0px 12px #02f2f2;
	}
	
#stats {
	font-size: 32px;
	color: white;
	position: absolute;
	top: 240px;
	left: 4px;
	cursor: pointer;
	width: 40px;
	height: 40px;
}

	#stats:hover {
		transform: scale(1.2, 1.2);
		text-shadow: 5px 0px 10px #02f2f2, -3px 0px 12px #02f2f2;
	}

#version {
	position: absolute;
	right: 4px;
	top: 4px;
	text-align: right;
	color: var(--points);
	text-shadow: 0px 0px 10px var(--points);
	cursor: pointer;
}

	#version:hover {
		transform: scale(1.2, 1.2);
		right: 4.8px;
	}

a {
	color: #007fff;
	text-decoration-line: none;
	cursor: pointer
}

.link {
	display: block;
	font-size: 20px;
	color: #41f5f5;
	text-decoration-line: none;
	cursor: pointer;
	width: 100%;
	min-width: 100%;
	font-family: "Lucida Console", "Courier New", monospace;
	-webkit-text-stroke-width: 1px;
	-webkit-text-stroke-color: #02f2f2;
	text-decoration: none;
}

	.link:hover {
		transform: scale(1.2, 1.2);
		text-shadow: 5px 0px 10px #02f2f2, -3px 0px 12px #02f2f2;
	}

.opt {
	height: 100px;
	width: 100px;
	border-radius: 25%;
	border: 4px solid;
	background-color: var(--color);
	border-color: rgba(255, 255, 255, 0.125) rgba(0, 0, 0, 0.25) rgba(0, 0, 0, 0.25) rgba(255, 255, 255, 0.125);
	color: rgba(0, 0, 0, 0.5);
	cursor: pointer;
}
	
.option {
	height: 100px;
	width: 20%;
	border: 4px solid;
	background-color: var(--color);
	border-color: rgba(255, 255, 255, 0.125) rgba(0, 0, 0, 0.25) rgba(0, 0, 0, 0.25) rgba(255, 255, 255, 0.125);
	color: rgba(0, 0, 0, 0.5);
	cursor: pointer;
}

	.opt:hover, .option:hover {
		background-color: #439ea3;
	}

.hidden {
	visibility: hidden;
	height: 50px !important;
}

.canvas {
	top: 0;
	left: 0;
	position: absolute;
	z-index: -999;
	pointer-events: none;
}

.milestone {
	width: 100%;
	height: 60px;
	padding: 8px;
	background-color: #bf8f8f;
	border: 4px solid;
	border-radius: 4px;
	border-color: rgba(255, 255, 255, 0.125) rgba(0, 0, 0, 0.25) rgba(0, 0, 0, 0.25) rgba(255, 255, 255, 0.125);
	color: rgba(0, 0, 0, 0.5);
}

.milestoneDone {
	width: 100%;
	height: 60px;
	padding: 8px;
	background-color: #77bf5f;
	border: 4px solid;
	border-radius: 4px;
	border-color: rgba(255, 255, 255, 0.125) rgba(0, 0, 0, 0.25) rgba(0, 0, 0, 0.25) rgba(255, 255, 255, 0.125);
	color: rgba(0, 0, 0, 0.5);
}

.left {
	position: absolute;
	left: 0;
}

.remove {
	height: 24px;
	width: 24px;
	cursor: pointer;
}

	.remove:hover {
		transform: scale(1.1, 1.1);
	}

.col {
	min-width: 49.5%;
	max-width: 49.5%;
	width: 49.5%;
	height: 100%;
	min-height: 100%;
	column-span: 1;
	position: absolute;
	overflow-y: auto;
	overflow-x: hidden;
	transition-duration: 0.5s
}

	.col.right {
		min-width: 49.5%;
		max-width: 49.5%;
		width: 49.5%;
		top: 0;
		right: 0;
	}

#app {
	column-count: 2;
	column-width: 50%;
	min-height: 100%;
}

.vl {
	border-left: 6px solid var(--color);
	height: 100%;
	position: absolute;
	left: 50%;
	margin-left: -3px;
	top: 0
}

.vl2 {
	border-left: 3px solid var(--color);
	height: 100%;
}

.hl {
	border-top: 3px solid var(--color);
}

ul {
	list-style-type: none;
}

.hChall {
	padding: 10px;
	background-color: #bf8f8f;
	border: 4px solid;
	border-color: rgba(255, 255, 255, 0.125) rgba(0, 0, 0, 0.25) rgba(0, 0, 0, 0.25) rgba(255, 255, 255, 0.125);
	color: rgba(0, 0, 0, 0.5);
	width: 300px;
	height: 300px;
	font-size: 15px;
	border-radius: 33.33%;
}

	.hChall.done {
		background-color: #77bf5f;
	}

	.hChall.canComplete {
		background-color: #ffbf00;
	}

.fullWidth {
	position: absolute;
	height: 100%;
	width: 100%;
	min-width: 100%;
	overflow-y: auto;
	overflow-x: auto;
	transition-duration: 0s;
	text-align: center;
}

/* Keep topbar left-aligned */
.fullWidth > div[style*="display:flex"] {
	text-align: left !important;
}

/* Center tree tables on all screen sizes */
.fullWidth table {
	display: block !important;
	margin: 5px auto !important;
	text-align: center !important;
	width: auto !important;
}

.fullWidth table td {
	display: inline-block !important;
	text-align: center !important;
	vertical-align: middle !important;
}

/* Force center the tree container divs */
.fullWidth > div {
	text-align: center !important;
}

[tooltip] {
	position: relative;
	z-index: 999999 !important
}

	[tooltip]:before,
	[tooltip]:after {
		visibility: hidden;
		-ms-filter: "progid:DXImageTransform.Microsoft.Alpha(Opacity=0)";
		filter: progid: DXImageTransform.Microsoft.Alpha(Opacity=0);
		opacity: 0;
		pointer-events: none;
		white-space: pre-wrap;
	}

	[tooltip]:before {
		position: absolute;
		bottom: 100%;
		left: 50%;
		margin-bottom: 5px;
		margin-left: -80px;
		padding: 7px;
		width: 160px;
		-webkit-border-radius: 3px;
		-moz-border-radius: 3px;
		border-radius: 3px;
		background-color: var(--background_tooltip);
		color: var(--points);
		content: attr(tooltip);
		text-align: center;
		font-size: 14px;
		line-height: 1.2;
		transition-duration: 0.5s;
		white-space: pre-wrap;
	}

	[tooltip]:after {
		position: absolute;
		bottom: 100%;
		left: 50%;
		margin-left: -5px;
		width: 0;
		border-top: 5px solid var(--background_tooltip);
		border-right: 5px solid transparent;
		border-left: 5px solid transparent;
		content: " ";
		font-size: 0;
		line-height: 0;
		transition-duration: 0.5s;
		white-space: pre-wrap;
	}

	[tooltip]:hover:before,
	[tooltip]:hover:after {
		visibility: visible;
		-ms-filter: "progid:DXImageTransform.Microsoft.Alpha(Opacity=100)";
		filter: progid: DXImageTransform.Microsoft.Alpha(Opacity=100);
		opacity: 1;
		white-space: pre-wrap;
	}

#loadingSection {
	display: flex;
	flex-direction: column;
	justify-content: center;
}

#mapbox {
	width: 500px;
	height: 455px;
	border: 2px solid;
	border-color: rgba(255, 255, 255, 0.125) rgba(0, 0, 0, 0.25) rgba(0, 0, 0, 0.25) rgba(255, 255, 255, 0.125);
	touch-action: pan-x pan-y;
	-webkit-touch-callout: none;
	-webkit-user-select: none;
	-khtml-user-select: none;
	-moz-user-select: none;
	-ms-user-select: none;
	user-select: none;
}

.bar {
	width: min(500px, calc(100% - 5px));
	height: 20px;
	background-color: var(--background);
	border: 2px solid;
	border-color: rgba(0, 0, 0, 0.25) rgba(255, 255, 255, 0.125) rgba(255, 255, 255, 0.125) rgba(0, 0, 0, 0.25);
	border-radius: 10px;
}
.bar-fill {
	font-size: 1px;
	height: 16px;
	border-radius: 8px;
	background-color: var(--color);
	border: 2px solid;
	border-color: rgba(255, 255, 255, 0.125) rgba(0, 0, 0, 0.25) rgba(0, 0, 0, 0.25) rgba(255, 255, 255, 0.125);
	float:left;
}

.mini-bar {
	width: min(500px, calc(100% - 5px));
	height: 10px;
	background-color: var(--background);
	border: 2px solid;
	border-color: rgba(0, 0, 0, 0.25) rgba(255, 255, 255, 0.125) rgba(255, 255, 255, 0.125) rgba(0, 0, 0, 0.25);
	border-radius: 5px;
}
.mini-bar-fill {
	font-size: 1px;
	height: 6px;
	border-radius: 4px;
	background-color: var(--color);
	border: 2px solid;
	border-color: rgba(255, 255, 255, 0.125) rgba(0, 0, 0, 0.25) rgba(0, 0, 0, 0.25) rgba(255, 255, 255, 0.125);
	float:left;
}

spoiler{ 
	color: var(--color); 
	background-color: var(--color);
	border-radius: 5px;
	transition-duration: 0.2s;
}

spoiler:hover{
	background-color: #fff2;
}

::-webkit-scrollbar {
	width: 10px;
	border-radius: 5px;
}
::-webkit-scrollbar-track {
	background: #222;
}
::-webkit-scrollbar-thumb {
	background: #888;
}
::-webkit-scrollbar-thumb:hover {
	background: #aaa;
}

.info-box {
	background-color: var(--background);
	color: var(--color);
	padding: 10px;
	border: 2px solid;
	border-color:  rgba(255, 255, 255, 0.125) rgba(0, 0, 0, 0.25) rgba(0, 0, 0, 0.25) rgba(255, 255, 255, 0.125);
	border-radius: 10px;
}

.modal {
	max-width: 50%;
	background-color: var(--background);
	color: var(--color);
	padding: 10px;
	border: 2px solid;
	border-color: rgba(0, 0, 0, 0.25) rgba(255, 255, 255, 0.125) rgba(255, 255, 255, 0.125) rgba(0, 0, 0, 0.25);
	border-radius: 10px;
}

pre {
    white-space: pre-wrap;
    white-space: -moz-pre-wrap;
    white-space: -pre-wrap;
    white-space: -o-pre-wrap;
    word-wrap: break-word;
}

/* Mobile and responsive styles */
@media screen and (max-width: 768px) {
	/* Allow body scrolling on mobile */
	html, body {
		overflow: auto;
		height: auto;
		min-height: 100vh;
	}
	
	/* Hide the vertical divider on mobile */
	.vl {
		display: none;
	}
	
	/* Make columns stack vertically on mobile */
	#app {
		column-count: 1;
		column-width: 100%;
		min-height: 100vh;
	}
	
	.col {
		position: relative;
		min-width: 100%;
		max-width: 100%;
		width: 100%;
		min-height: auto;
		overflow-x: hidden;
		overflow-y: visible;
	}
	
	.col.right {
		min-width: 100%;
		max-width: 100%;
		width: 100%;
		position: relative;
		top: auto;
		right: auto;
	}
	
	/* Fix canvas positioning on mobile */
	.canvas {
		position: absolute;
		z-index: -999;
		pointer-events: none;
		top: 0;
		left: 0;
	}
	
	/* Make the mapbox responsive */
	#mapbox {
		width: min(100vw - 20px, 500px);
		height: auto;
		max-width: 500px;
		aspect-ratio: 500/455;
	}
	
	/* Adjust overlay elements for mobile */
	#optionWheel {
		top: 10px;
		right: 10px;
		width: 30px;
		height: 30px;
	}
	
	#info {
		top: 50px;
		right: 10px;
		width: 30px;
		height: 30px;
		font-size: 24px;
	}
	
	#discord {
		top: 90px;
		right: 10px;
		width: 30px;
		height: 30px;
	}
	
	#achievements {
		top: 130px;
		right: 10px;
		width: 30px;
		height: 30px;
		font-size: 24px;
	}
	
	#stats {
		top: 170px;
		right: 10px;
		width: 30px;
		height: 30px;
		font-size: 24px;
	}
	
	#version {
		top: 10px;
		left: 10px;
		right: auto;
		font-size: 12px;
	}
	
	/* Make buttons more touch-friendly */
	.treeNode {
		min-height: 80px;
		min-width: 80px;
		font-size: 32px;
		margin: 8px;
	}
	
	.opt, .option {
		min-height: 60px;
		font-size: 14px;
		padding: 5px;
	}
	
	/* Better spacing for mobile */
	.upgTable, .upgRow {
		max-width: 100%;
		flex-wrap: wrap;
	}
	
	/* Modal adjustments for mobile */
	.modal {
		max-width: 90%;
		margin: 10px;
	}
	
	/* Make bars responsive */
	.bar, .mini-bar {
		width: calc(100% - 20px);
		max-width: 500px;
	}
	
	/* Better font sizes for mobile readability */
	h1 { font-size: 24px; }
	h2 { font-size: 20px; }
	h3 { font-size: 18px; }
	h5 { font-size: 14px; }
	
	/* Add padding to prevent content from being hidden behind overlay icons */
	.fullWidth {
		padding-top: 10px;
		padding-right: 60px;
		padding-left: 10px;
	}
	
	/* Make topbar buttons more mobile-friendly */
	.topbarButton {
		height: 40px;
		padding: 8px 4px;
		font-size: 12px;
	}
	
	.topbarButton h5 {
		font-size: 12px;
		margin: 0;
	}
	
	/* Simple tree centering on mobile */
	.fullWidth {
		position: relative;
		height: auto;
		min-height: 100vh;
		width: 100%;
		min-width: 100%;
		overflow-y: visible;
		overflow-x: hidden;
		transition-duration: 0s;
		padding-top: 10px;
		padding-right: 60px;
		padding-left: 10px;
		padding-bottom: 20px;
		text-align: center;
	}
	
	/* Keep topbar as flexbox */
	.fullWidth > div[style*="display:flex"] {
		text-align: left !important;
	}
	
	/* Ensure tree nodes are properly spaced and centered on mobile */
	.treeNode {
		min-height: 80px;
		min-width: 80px;
		height: 80px;
		width: 80px;
		font-size: 28px;
		margin: 8px !important;
		display: inline-block;
		vertical-align: middle;
	}
}

@media screen and (max-width: 480px) {
	/* Extra small screens */
	.treeNode {
		min-height: 60px;
		min-width: 60px;
		font-size: 24px;
		margin: 4px;
	}
	
	#mapbox {
		width: calc(100vw - 10px);
		height: auto;
	}
	
	.opt, .option {
		min-height: 50px;
		font-size: 12px;
		width: 45%;
		margin: 2px;
	}
	
	/* Smaller overlay elements for very small screens */
	#optionWheel, #info, #discord, #achievements, #stats {
		width: 25px;
		height: 25px;
		font-size: 18px;
	}
	
	/* Adjust positioning for smaller screens */
	#info { top: 40px; }
	#discord { top: 70px; }
	#achievements { top: 100px; }
	#stats { top: 130px; }
}
